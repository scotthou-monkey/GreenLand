<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新人互動網頁 | GreenLand</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', 'PingFang TC', 'Microsoft JhengHei', sans-serif; scroll-behavior: smooth; background-color: #fcfdfe; }
        #loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 9999;
            transition: opacity 0.5s ease;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .perspective-1000 { perspective: 1000px; }
        .preserve-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .checked-item { background-color: #15803d !important; color: #ffffff !important; border-color: #14532d !important; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .checked-item span, .checked-item i { color: white !important; }
        
        /* 地圖標記點動畫 */
        .map-marker { position: absolute; width: 24px; height: 24px; background-color: #dc2626; border: 4px solid white; border-radius: 50%; transform: translate(-50%, -50%); cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 6px rgba(0,0,0,0.3); z-index: 20; }
        .map-marker:hover { transform: translate(-50%, -50%) scale(1.3); background-color: #16a34a; z-index: 30; }
        .map-marker::after { content: ''; position: absolute; top: 50%; left: 50%; width: 40px; height: 40px; background-color: rgba(220, 38, 38, 0.4); border-radius: 50%; transform: translate(-50%, -50%); animation: pulse-ring 2s infinite; z-index: -1; }
        .map-marker:hover::after { background-color: rgba(22, 163, 74, 0.4); }
        @keyframes pulse-ring { 0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(2.5); opacity: 0; } }

        /* 地圖 Tooltip */
        .map-tooltip { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%) scale(0.9); background: white; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2); width: 320px; opacity: 0; pointer-events: none; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 4px solid #16a34a; z-index: 40; }
        .map-marker:hover .map-tooltip { opacity: 1; pointer-events: auto; transform: translateX(-50%) scale(1); bottom: 40px; }
    </style>
</head>
<body class="text-slate-900">

    <div id="loading-overlay">
        <div class="w-12 h-12 border-4 border-green-700 border-t-transparent rounded-full animate-spin mb-4"></div>
        <p class="font-bold text-green-800 tracking-widest uppercase">系統掛載中...</p>
    </div>

    <nav class="fixed top-0 inset-x-0 z-50 bg-white/95 backdrop-blur-md border-b flex items-center justify-between px-6 h-24 shadow-sm print:hidden">
        <div class="flex items-center gap-4 cursor-pointer" onclick="window.scrollTo({top:0, behavior:'smooth'})">
            <img src="https://duk.tw/0sLH2f.png" alt="Logo" class="h-12 w-auto" />
            <span class="font-black text-xl text-slate-800 hidden md:block">新人互動網頁</span>
        </div>
        <div class="flex gap-2 overflow-x-auto no-scrollbar py-2">
            <button onclick="scrollToId('disc')" class="text-xs font-bold px-4 py-2 rounded-xl text-slate-500 hover:text-green-700 whitespace-nowrap transition-colors">人格特質</button>
            <button onclick="scrollToId('journey')" class="text-xs font-bold px-4 py-2 rounded-xl text-slate-500 hover:text-green-700 whitespace-nowrap transition-colors">三月旅程</button>
            <button onclick="scrollToId('partners')" class="text-xs font-bold px-4 py-2 rounded-xl text-slate-500 hover:text-green-700 whitespace-nowrap transition-colors">品牌夥伴</button>
            <button onclick="scrollToId('map-section')" class="text-xs font-bold px-4 py-2 rounded-xl text-slate-500 hover:text-green-700 whitespace-nowrap transition-colors">全球佈局</button>
            <button onclick="scrollToId('training')" class="text-xs font-bold px-4 py-2 rounded-xl text-slate-500 hover:text-green-700 whitespace-nowrap transition-colors">培訓計畫</button>
            <button onclick="scrollToId('checklist')" class="text-xs font-bold px-4 py-2 rounded-xl text-slate-500 hover:text-green-700 whitespace-nowrap transition-colors">出發清單</button>
        </div>
    </nav>

    <main class="pt-24">
        <section class="min-h-[80vh] flex flex-col items-center justify-center text-center px-6 relative overflow-hidden">
            <div class="relative z-10 space-y-8 max-w-4xl">
                <h1 class="text-6xl md:text-8xl font-black tracking-tighter text-slate-900 leading-none">歡迎加入<br/><span class="text-green-700 underline decoration-green-200">GreenLand</span></h1>
                <p class="text-xl text-slate-500 font-bold italic">專業與溫度的結合，讓我們開啟卓越旅程。</p>
                <div class="flex flex-wrap justify-center gap-6 pt-6">
                    <button onclick="scrollToId('disc')" class="px-14 py-5 bg-green-700 text-white rounded-3xl font-black text-xl shadow-xl hover:bg-green-800 transition-all active:scale-95">開始探索</button>
                    <button onclick="scrollToId('checklist')" class="px-14 py-5 bg-white text-green-700 border-4 border-green-700 rounded-3xl font-black text-xl hover:bg-green-50 transition-all shadow-md active:scale-95">出發準備</button>
                </div>
            </div>
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1000px] h-[1000px] bg-green-100/40 rounded-full blur-[140px] -z-10"></div>
        </section>

        <section id="disc" class="max-w-6xl mx-auto px-6 py-32">
            <h2 class="text-5xl font-black border-l-8 border-green-700 pl-8 uppercase text-slate-900 tracking-tight mb-16">人格特質測驗</h2>
            <div id="quiz-container" class="bg-white border-2 border-slate-100 rounded-[3.5rem] shadow-2xl p-10 md:p-20">
                </div>
        </section>

        <section id="journey" class="max-w-6xl mx-auto px-6 py-32">
            <h2 class="text-5xl font-black text-center mb-16 text-slate-900">新人前三個月旅程</h2>
            <div class="bg-slate-900 rounded-[4rem] p-10 md:p-20 text-white relative overflow-hidden shadow-2xl">
                <div class="relative z-10">
                    <div class="flex justify-between items-center mb-16 relative">
                        <div class="absolute top-1/2 left-0 w-full h-1 bg-white/20 -translate-y-1/2"></div>
                        <div id="journey-progress" class="absolute top-1/2 left-0 h-1 bg-green-500 -translate-y-1/2 transition-all duration-700" style="width: 0%"></div>
                        <div class="relative z-20 flex flex-col items-center gap-4 cursor-pointer group" onclick="updateJourney(0)">
                            <div class="w-16 h-16 rounded-full bg-green-500 flex items-center justify-center text-2xl font-black border-4 border-slate-900 shadow-xl group-hover:scale-110 transition-transform">1</div>
                            <span class="font-black text-sm uppercase">Month 1</span>
                        </div>
                        <div class="relative z-20 flex flex-col items-center gap-4 cursor-pointer group" onclick="updateJourney(50)">
                            <div id="node-2" class="w-16 h-16 rounded-full bg-slate-700 flex items-center justify-center text-2xl font-black border-4 border-slate-900 group-hover:scale-110 transition-transform">2</div>
                            <span class="font-black text-sm uppercase">Month 2-3</span>
                        </div>
                        <div class="relative z-20 flex flex-col items-center gap-4 cursor-pointer group" onclick="updateJourney(100)">
                            <div id="node-3" class="w-16 h-16 rounded-full bg-slate-700 flex items-center justify-center text-2xl font-black border-4 border-slate-900 group-hover:scale-110 transition-transform">3</div>
                            <span class="font-black text-sm uppercase">結訓</span>
                        </div>
                    </div>
                    <div class="bg-white/5 backdrop-blur-md rounded-[3rem] p-10 border border-white/10 text-center min-h-[250px] flex flex-col justify-center transition-all" id="journey-detail">
                        <h3 class="text-4xl font-black text-green-400 mb-4">研發中心 (R&D Center)</h3>
                        <p class="text-2xl font-bold leading-relaxed italic">核心任務：「親手做出一雙鞋」<br/><span class="text-slate-400 text-lg mt-4 block font-black">了解材料、結構與版型設計。</span></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="partners" class="max-w-7xl mx-auto px-6 py-32 space-y-24">
            <h2 class="text-6xl font-black text-center uppercase text-slate-900">全球品牌夥伴</h2>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-10" id="partners-grid"></div>
        </section>

        <section id="map-section" class="max-w-7xl mx-auto px-6 py-32 space-y-24 bg-slate-50 rounded-[5rem] my-20 relative overflow-hidden">
            <div class="text-center space-y-6 relative z-10">
                <h2 class="text-6xl font-black uppercase text-slate-900 leading-none">三十年卓越足跡</h2>
                <p class="text-slate-500 text-2xl font-bold italic tracking-tight">跨越國界，深耕亞洲，連結全球</p>
            </div>
            
            <div class="relative w-full aspect-[4/3] bg-blue-50/30 rounded-[4rem] overflow-hidden border-4 border-white shadow-2xl max-w-5xl mx-auto">
                 <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Asia_location_map.svg/2000px-Asia_location_map.svg.png" alt="Asia Map" class="absolute inset-0 w-full h-full object-cover opacity-30 mix-blend-luminosity" style="object-position: center 20%;" />
                <div class="absolute inset-0 bg-gradient-to-b from-slate-50/80 via-transparent to-slate-50/80 mix-blend-overlay"></div>
                
                <div id="map-markers-container" class="absolute inset-0 z-10"></div>
            </div>
             <div class="text-center text-slate-400 font-bold italic mt-8">提示：將滑鼠移至紅色據點查看詳細資訊</div>
        </section>

        <section id="training" class="max-w-7xl mx-auto px-6 py-32 space-y-24">
            <h2 class="text-6xl font-black text-center text-slate-900 uppercase">培訓導航計畫</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16" id="training-grid"></div>
        </section>

        <section id="esg" class="max-w-7xl mx-auto px-6 py-32 space-y-24 bg-green-50 rounded-[5rem] my-20">
            <h2 class="text-6xl font-black border-l-[16px] border-green-700 pl-10 tracking-tight leading-none uppercase text-slate-900 mx-6">永續與責任</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 px-6" id="esg-grid"></div>
        </section>

        <section id="survival" class="max-w-7xl mx-auto px-6 py-32">
            <h2 class="text-6xl font-black text-center mb-16 uppercase">常用資訊</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-16 max-w-5xl mx-auto">
                <div class="bg-blue-900 p-14 rounded-[4rem] shadow-2xl text-white flex flex-col items-center text-center">
                    <img src="https://www.ragic.com/favicon.ico" class="w-20 h-20 brightness-200 mb-10" />
                    <h3 class="text-4xl font-black uppercase mb-6">台陸幹線上請假<br/>(RAGIC 系統)</h3>
                    <p class="text-blue-100 text-lg font-bold opacity-80 mb-10 leading-relaxed italic">需由 HR 開通帳號。如有系統問題，請聯繫營運管理部 Scott。</p>
                    <button onclick="window.open('https://www.ragic.com/', '_blank')" class="w-full py-6 bg-white text-blue-900 rounded-3xl font-black text-2xl shadow-xl hover:bg-blue-50 active:scale-95 transition-all uppercase">Open APP</button>
                </div>
                <div class="bg-white border-4 border-slate-100 p-14 rounded-[4rem] shadow-2xl flex flex-col justify-center items-center text-center">
                    <div class="w-24 h-24 bg-green-700 text-white rounded-3xl flex items-center justify-center text-4xl font-black mb-10">S</div>
                    <h3 class="text-4xl font-black text-slate-800 mb-8 leading-tight italic">有任何問題<br/>請與營運管理部 Scott 聯繫</h3>
                    <div class="pt-10 border-t w-full text-slate-300 font-black text-sm tracking-widest uppercase">Operational Management Dept.</div>
                </div>
            </div>
        </section>

        <section id="checklist" class="max-w-7xl mx-auto px-6 py-32 space-y-24">
            <div class="bg-white border-[12px] border-slate-50 rounded-[5.5rem] p-12 md:p-24 space-y-24 shadow-xl">
                <h2 class="text-6xl font-black text-slate-900 text-center uppercase tracking-tight underline decoration-green-100 decoration-4">出發檢查物資</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-20">
                    <div class="space-y-6" id="checklist-items"></div>
                    <div class="p-14 bg-red-50 border-4 border-red-100 rounded-[4rem] shadow-2xl flex flex-col items-center justify-center text-center">
                        <h3 class="text-5xl font-black text-red-900 uppercase mb-12">不用攜帶</h3>
                        <div class="flex flex-wrap gap-8 justify-center">
                            <span class="px-10 py-6 bg-white text-red-600 rounded-[2.5rem] font-black shadow-xl text-2xl border-4 border-red-50">❌ 延長線</span>
                            <span class="px-10 py-6 bg-white text-red-600 rounded-[2.5rem] font-black shadow-xl text-2xl border-4 border-red-50">❌ 吹風機</span>
                        </div>
                        <p class="text-red-800 font-black text-xl italic pt-12 underline decoration-red-200 uppercase">註：北越四季分明，請備妥保暖衣物。</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-white border-t-4 py-32 text-center relative overflow-hidden">
        <img src="https://duk.tw/0sLH2f.png" class="w-36 h-auto mx-auto mb-10 opacity-60 grayscale hover:grayscale-0 transition-all duration-1000" />
        <p class="text-slate-300 text-xs font-bold uppercase tracking-[0.4em] italic">© 2024 GreenLand Footwear Group. All Rights Reserved.</p>
        <div class="absolute bottom-[-150px] left-1/2 -translate-x-1/2 text-[30rem] font-black text-slate-50 select-none -z-10 uppercase tracking-tighter">GREENLAND</div>
    </footer>

    <script>
        // --- 1. 地圖資料定義 (核心更新) ---
        // 使用百分比定位 (Top, Left) 來適應響應式地圖
        const MAP_LOCATIONS = [
            // 台灣
            { id: 'tw', top: '46%', left: '84%', year: '1994', title: '台灣台中總部 (聯玖興業)', desc: '集團發源地，營運核心。', code: '' },
            // 中國
            { id: 'cn-dg', top: '48%', left: '78%', year: '1997', title: '中國東莞研發中心', desc: '技術研發重鎮。', code: '523380 广东省东莞市业兴路' },
            // 越南海防聚落 (GL1, GL2, GL3, 研發, 榮保) - 位置相近，用一個大點表示
            { id: 'vn-hp', top: '56%', left: '73%', year: '1996-2019', title: '越南海防生產基地群', desc: '含 GL1, GL2, GL3, 研發中心及榮保廠。', code: 'GL1/2/RD: QPV9+Q3 陽京郡\nGL3: JGRR+2V 永寶縣\n榮保: MFMJ+78X 永寶縣' },
            // 越南義安 (中越)
            { id: 'vn-na', top: '58%', left: '71%', year: '2020', title: '越南義安鞋面廠', desc: '垂直整合關鍵拼圖。', code: 'PF8W+39 南壇縣' },
            // 柬埔寨 (金邊 Sky Nice I / 磅湛 Right Union)
            { id: 'kh', top: '62%', left: '70%', year: '2007/2022', title: '柬埔寨生產基地', desc: 'Sky Nice I (已結束) & Right Union (磅湛)。', code: 'Right Union: 3325+CQ5 Skun' },
            // 孟加拉
            { id: 'bd', top: '53%', left: '58%', year: '2009', title: '孟加拉達卡廠 (Blue Ocean)', desc: '南亞重要佈局。', code: '27M7+XJ Shafipur' }
        ];

        // --- 2. 其他資料庫 ---
        const PARTNERS = [
            { name: "UGG", desc: "奢華高品質羊皮雪靴，享譽全球。", img: "https://duk.tw/7PC91g.png" },
            { name: "ECCO", desc: "丹麥皇室御用，強調人體工學與簡約。", img: "https://duk.tw/EPGeHt.jpg" },
            { name: "Dansko", desc: "專業木底鞋，強調足弓極致支撐。", img: "https://duk.tw/93aT9z.jpg" },
            { name: "CAT", desc: "工業硬派工裝機能與街頭潮流。", img: "https://duk.tw/s4jeqG.png" },
            { name: "SPERRY", desc: "帆船鞋創始品牌，代表經典學院風。", img: "https://duk.tw/bD40R3.jpg" },
            { name: "FRED PERRY", desc: "英倫體育與次文化融合的經典。", img: "https://duk.tw/QgUjMd.jpg" },
            { name: "CAMPER", desc: "西班牙創意設計，想像力與製鞋的火花。", img: "https://duk.tw/Oc74Xg.png" },
            { name: "Blundstone", desc: "澳洲百年工裝靴，極致耐穿。", img: "https://duk.tw/6YLDED.png" },
            { name: "JOHNSTON & MURPHY", desc: "美國總統級紳士鞋，商務精湛工藝。", img: "https://duk.tw/EijVva.png" },
            { name: "rag & bone", desc: "紐約品牌，英式剪裁與美式工裝融合。", img: "https://duk.tw/9OmiSH.jpg" }
        ];

        const TRAINING = {
            p1: [{d:"面版課",t:1,info:"認識鞋面結構與版型設計"},{d:"底版課",t:1,info:"學習大底開發邏輯與開模"},{d:"倉庫",t:5,info:"物料入庫生產前置準備"},{d:"打料組",t:2,info:"物料切割、分層與加工"},{d:"底部課",t:2,info:"底部組件結合流程實作"},{d:"面部課",t:4,info:"鞋面縫製、針車與裝飾"},{d:"成型課",t:2,info:"見證零件組合變成品"},{d:"研發與營運",t:9,info:"生管、開發與 CSR 營運視野"}],
            p2: [{d:"半成品管理",t:6,info:"管理流向"},{d:"大貨倉庫",t:2,info:"物流倉儲"},{d:"自動裁斷",t:4,info:"精準精益"},{d:"物資控制",t:3,info:"精準調度"},{d:"大規模鞋面部",t:4,info:"流水協作"},{d:"生產管理",t:3,info:"實踐排程"},{d:"大貨成型",t:4,info:"品質穩定"},{d:"樣品量產轉換",t:6,info:"開發轉換"},{d:"專業管理",t:10,info:"品管、採購與業務"}]
        };

        // ESG 數據更新 (使用圖片 placeholder，您可替換)
        const ESG_CARDS = [
            { title: "環境保護 (Planet)", img: "https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c29sYXIlMjBwYW5lbHN8ZW58MHx8MHx8fDA%3D", val: "25.46%", sub: "Solar Power", list: ["GL-GL 工廠太陽能替代率達 25.46%", "年減碳量達 925,820 kgCO2e", "取得 ISO 14064-1 及 ISO 14067 認證"] },
            { title: "社會公益 (People)", img: "https://images.unsplash.com/photo-1573164574572-cb89e39749b4?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8d29tZW4lMjBlbXBvd2VybWVudHxlbnwwfHwwfHx8MA%3D%3D", val: "95.7%", sub: "Her+ Project", list: ["女性生理與懷孕知識理解度升至 95.7%", "自我檢查能力提升至 100% 滿分", "190 人完成永續專業培訓課程"] },
            { title: "企業治理 (Governance)", img: "https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YXVkaXR8ZW58MHx8MHx8fDA%3D", val: "FEM", sub: "Supply Chain", list: ["導入 HIGG FEM 全方位環境評估", "通過 Better Work 跨國認證", "供應鏈透明化與勞工權益保障"] }
        ];

        const JOURNEY_MONTHS = [
            { title: "研發中心 (R&D Center)", desc: "核心任務：「親手做出一雙鞋」", detail: "在 Month 1，您將在研發中心學習材料特性、結構原理，並在師父指導下完成人生第一雙手工鞋。" },
            { title: "大貨現場 (Bulk Production)", desc: "核心任務：「熟悉產線與管理」", detail: "在 Month 2-3，您將深入產線現場，理解數千人規模的流水線運作，學習生管、排程與品質控制的核心邏輯。" },
            { title: "結訓考核 (Graduation)", desc: "核心任務：「部門交接與報告」", detail: "實習結束前，您將完成正式的部門交接，並在每週六進行口頭報告，與團隊分享您的成長與發現。" }
        ];

        // --- 3. 具象化動物圖 ---
        const ANIMAL_ICONS = {
            '老虎型': `<svg viewBox="0 0 100 100" class="w-48 h-48 mx-auto"><circle cx="50" cy="50" r="45" fill="#F97316"/><path d="M30 30 Q50 10 70 30 M30 70 Q50 90 70 70" stroke="black" stroke-width="6" fill="none"/><circle cx="35" cy="45" r="5" fill="black"/><circle cx="65" cy="45" r="5" fill="black"/><path d="M40 65 Q50 75 60 65" stroke="black" stroke-width="4" fill="none"/><path d="M20 50 H35 M65 50 H80" stroke="black" stroke-width="3"/></svg>`,
            '海豚型': `<svg viewBox="0 0 100 100" class="w-48 h-48 mx-auto"><path d="M10 80 Q20 20 90 50 Q70 60 10 80" fill="#38BDF8"/><circle cx="65" cy="45" r="4" fill="black"/></svg>`,
            '蜜蜂型': `<svg viewBox="0 0 100 100" class="w-48 h-48 mx-auto"><ellipse cx="50" cy="55" rx="35" ry="30" fill="#FACC15"/><path d="M20 45 H80 M20 65 H80" stroke="black" stroke-width="10"/><path d="M35 35 L20 15 M65 35 L80 15" stroke="black" stroke-width="3"/></svg>`,
            '企鵝型': `<svg viewBox="0 0 100 100" class="w-48 h-48 mx-auto"><ellipse cx="50" cy="55" rx="35" ry="40" fill="#1E293B"/><ellipse cx="50" cy="60" rx="20" ry="25" fill="white"/><circle cx="40" cy="45" r="4" fill="black"/><circle cx="60" cy="45" r="4" fill="black"/><path d="M45 55 L50 62 L55 55 Z" fill="#F59E0B"/></svg>`,
            '八爪魚型': `<svg viewBox="0 0 100 100" class="w-48 h-48 mx-auto"><circle cx="50" cy="40" r="30" fill="#F472B6"/><path d="M30 70 Q35 90 40 70 M45 70 Q50 95 55 70 M60 70 Q65 90 70 70" stroke="#F472B6" stroke-width="8" fill="none"/></svg>`
        };

        // --- 4. 核心邏輯狀態 ---
        let currentDiscIdx = 0;
        let discScores = { A: 0, B: 0, C: 0, D: 0 };

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            const DISC_QUESTIONS = [
                { options: { A: "活潑生動", B: "冒險精神", C: "善於分析", D: "順從性強" } }, { options: { A: "善於社交", B: "善於說服", C: "堅持不懈", D: "平和溫順" } },
                { options: { A: "可愛", B: "勇敢", C: "自律", D: "體貼" } }, { options: { A: "無拘無束", B: "善於應變", C: "注意細節", D: "具有毅力" } },
                { options: { A: "使人振作", B: "喜競爭勝", C: "自我犧牲", D: "較少爭辯" } }, { options: { A: "活力充沛", B: "自立", C: "敏感", D: "滿足" } },
                { options: { A: "情感外露", B: "果斷", C: "深沉", D: "淡然無爭" } }, { options: { A: "樂觀", B: "坦率", C: "井井有條", D: "遷就" } },
                { options: { A: "愛插嘴", B: "沒耐性", C: "優柔寡斷", D: "無安全感" } }, { options: { A: "散漫", B: "缺乏同情心", C: "報復", D: "缺乏熱情" } },
                { options: { A: "煩躁", B: "輕率", C: "挑剔", D: "膽小" } }, { options: { A: "健忘", B: "控制欲", C: "孤僻", D: "隨興" } },
                { options: { A: "激勵人心", B: "獨立", C: "理想主義", D: "含蓄" } }, { options: { A: "推動者", B: "領導者", C: "計畫者", D: "聆聽者" } },
                { options: { A: "多言", B: "執著", C: "考慮周到", D: "耐性" } }, { options: { A: "即興", B: "固執", C: "難於取悅", D: "猶豫不決" } },
                { options: { A: "天真", B: "魯莽", C: "消極", D: "冷漠" } }, { options: { A: "受歡迎", B: "工作狂", C: "過於嚴肅", D: "羞澀" } },
                { options: { A: "露骨", B: "專橫", C: "乏味", D: "扭捏" } }, { options: { A: "不專注", B: "不容忍", C: "鑽牛角尖", D: "無目標" } },
                { options: { A: "善變", B: "強勢", C: "喜歡批評", D: "妥協" } }, { options: { A: "不專注", B: "易怒", C: "多疑", D: "拖延" } },
                { options: { A: "淩亂", B: "跋扈", C: "抑鬱", D: "靦腆" } }, { options: { A: "喋喋不休", B: "直截了當", C: "過分敏感", D: "喃喃自語" } },
                { options: { A: "放任", B: "喜操縱", C: "有戒心", D: "緩慢" } }
            ];

            if (currentDiscIdx < 25) {
                const q = DISC_QUESTIONS[currentDiscIdx];
                container.innerHTML = `
                    <div class="space-y-12 max-w-4xl mx-auto text-center">
                        <div class="flex justify-between items-center text-sm font-black text-slate-400 uppercase tracking-widest">
                            <span>Question ${currentDiscIdx + 1} / 25</span>
                            <div class="w-1/2 h-3 bg-slate-100 rounded-full overflow-hidden shadow-inner">
                                <div class="h-full bg-green-600 transition-all duration-500 ease-out" style="width: ${((currentDiscIdx + 1) / 25) * 100}%"></div>
                            </div>
                        </div>
                        <p class="text-4xl font-black py-8 text-slate-800 leading-tight">哪一個特質最像您？</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 font-black">
                            ${Object.entries(q.options).map(([k, v]) => `
                                <button onclick="handleDisc('${k}')" class="p-10 text-left border-[3px] border-slate-100 rounded-[2.5rem] hover:border-green-600 hover:bg-green-50 flex justify-between items-center transition-all bg-white shadow-sm group">
                                    <span class="text-2xl font-black text-slate-700">${v}</span>
                                    <i data-lucide="chevron-right" class="text-slate-200 group-hover:text-green-600 group-hover:translate-x-2 transition-all"></i>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else {
                showDiscResult();
            }
            lucide.createIcons();
        }

        function handleDisc(key) {
            discScores[key]++;
            currentDiscIdx++;
            renderQuiz();
        }

        function showDiscResult() {
            const m = Math.max(...Object.values(discScores));
            const winKeys = Object.keys(discScores).filter(k => discScores[k] === m);
            let result = "";
            let intro = "";

            if (m >= 5 && m <= 8 && winKeys.length > 1) {
                result = "八爪魚型";
                intro = "全方位能力平衡，在各崗位間游刃有餘。";
            } else {
                const map = { A: "海豚型", B: "老虎型", C: "蜜蜂型", D: "企鵝型" };
                const desc = { A: "活潑社交，團隊正能量。", B: "勇往直前，果斷推路。", C: "精準細節，品質守門員。", D: "平和穩健，耐性聆聽。" };
                result = map[winKeys[0]];
                intro = desc[winKeys[0]];
            }

            document.getElementById('quiz-container').innerHTML = `
                <div class="text-center py-16 space-y-12 animate-in fade-in">
                    <div class="mb-10 drop-shadow-2xl scale-110">${ANIMAL_ICONS[result]}</div>
                    <h3 class="text-7xl font-black text-slate-900 uppercase">你是 <span class="text-green-700 underline decoration-green-200 decoration-8">${result}</span></h3>
                    <p class="text-slate-500 max-w-2xl mx-auto text-3xl font-bold italic leading-relaxed">"${intro}"</p>
                    <button onclick="location.reload()" class="px-12 py-6 bg-slate-900 text-white rounded-full font-black text-xl shadow-xl hover:bg-green-700 transition-all uppercase active:scale-95">重新測試</button>
                </div>
            `;
        }

        // --- 旅程進度更新 ---
        function updateJourney(pct) {
            document.getElementById('journey-progress').style.width = pct + '%';
            const detail = document.getElementById('journey-detail');
            const item = JOURNEY_MONTHS[pct === 0 ? 0 : pct === 50 ? 1 : 2];
            
            document.getElementById('node-2').className = `w-16 h-16 rounded-full flex items-center justify-center text-2xl font-black border-4 border-slate-900 ${pct >= 50 ? 'bg-green-500' : 'bg-slate-700'}`;
            document.getElementById('node-3').className = `w-16 h-16 rounded-full flex items-center justify-center text-2xl font-black border-4 border-slate-900 ${pct >= 100 ? 'bg-green-500' : 'bg-slate-700'}`;

            detail.innerHTML = `<h3 class="text-4xl font-black text-green-400 mb-4">${item.title}</h3><p class="text-2xl font-bold leading-relaxed italic">${item.desc}<br/><span class="text-slate-400 text-lg mt-4 block font-black">${item.detail}</span></p>`;
        }

        function scrollToId(id) {
            const el = document.getElementById(id);
            if (el) window.scrollTo({ top: el.offsetTop - 80, behavior: 'smooth' });
        }

        // --- 核心：渲染地圖標記 ---
        function renderMapMarkers() {
            const container = document.getElementById('map-markers-container');
            MAP_LOCATIONS.forEach(loc => {
                const marker = document.createElement('div');
                marker.className = 'map-marker';
                marker.style.top = loc.top;
                marker.style.left = loc.left;
                marker.innerHTML = `
                    <div class="map-tooltip text-left">
                        <div class="text-green-700 font-black text-xl mb-2">${loc.year}</div>
                        <h4 class="text-lg font-black mb-2 text-slate-900">${loc.title}</h4>
                        <p class="text-sm text-slate-500 font-bold mb-4">${loc.desc}</p>
                        ${loc.code ? `<div class="bg-slate-100 p-3 rounded-xl text-xs font-mono text-slate-600 flex items-center gap-2"><i data-lucide="map-pin" class="w-4 h-4"></i> ${loc.code}</div>` : ''}
                    </div>
                `;
                container.appendChild(marker);
            });
        }

        // --- 初始化頁面 ---
        window.onload = () => {
            renderQuiz();
            renderMapMarkers(); // 渲染地圖

            // 品牌夥伴
            document.getElementById('partners-grid').innerHTML = PARTNERS.map(b => `
                <div class="group h-80 perspective-1000 cursor-pointer font-black">
                    <div class="relative h-full w-full transition-all duration-700 preserve-3d group-hover:rotate-y-180 shadow-2xl rounded-[3rem]">
                        <div class="absolute inset-0 bg-white border-2 border-slate-50 rounded-[3rem] p-8 flex flex-col items-center justify-center backface-hidden">
                            <img src="${b.img}" class="h-16 mb-6 object-contain grayscale group-hover:grayscale-0 transition-all duration-500" />
                            <span class="text-xl font-black text-slate-800 uppercase text-center">${b.name}</span>
                        </div>
                        <div class="absolute inset-0 bg-green-700 text-white rounded-[3rem] p-10 flex items-center justify-center rotate-y-180 backface-hidden text-center font-bold italic text-lg leading-relaxed shadow-inner">
                            ${b.desc}
                        </div>
                    </div>
                </div>
            `).join('');

            // 培訓導航
            document.getElementById('training-grid').innerHTML = `
                <div class="bg-white border-4 border-slate-50 rounded-[4.5rem] shadow-2xl overflow-hidden flex flex-col hover:border-green-100 transition-all font-bold">
                    <div class="bg-green-700 p-16 text-white"><h3 class="text-5xl font-black uppercase">第一階段：開發</h3><p class="text-green-100 text-2xl mt-4">25 天實習 | 材料認識與開發流程</p></div>
                    <div class="p-16 space-y-6">${TRAINING.p1.map(s => `<div class="flex items-center justify-between p-8 bg-slate-50 rounded-[2.5rem] border-2 border-transparent hover:border-green-200 transition-all shadow-sm"><div><div class="font-black text-2xl text-slate-800">${s.d}</div><div class="text-sm text-slate-400 font-black uppercase mt-2">${s.info}</div></div><span class="text-xl font-black text-green-700 bg-white px-8 py-4 rounded-[2rem] border-2 border-green-100 shadow-inner">${s.t} 天</span></div>`).join('')}</div>
                </div>
                <div class="bg-white border-4 border-slate-50 rounded-[4.5rem] shadow-2xl overflow-hidden flex flex-col hover:border-slate-300 transition-all font-bold">
                    <div class="bg-slate-900 p-16 text-white"><h3 class="text-5xl font-black uppercase">第二階段：量產</h3><p class="text-slate-400 text-2xl mt-4">42 天實習 | 量產工藝與體系營運</p></div>
                    <div class="p-16 space-y-6">${TRAINING.p2.map(s => `<div class="flex items-center justify-between p-8 bg-slate-50 rounded-[2.5rem] border-2 border-transparent hover:border-slate-300 transition-all shadow-sm"><div class="font-black text-2xl text-slate-800">${s.d}</div><span class="text-xl font-black text-slate-700 bg-white px-8 py-4 rounded-[2rem] border-2 border-slate-200 shadow-inner">${s.t} 天</span></div>`).join('')}</div>
                </div>
            `;

            // ESG 渲染 (使用圖片)
            document.getElementById('esg-grid').innerHTML = ESG_CARDS.map(e => `
                <div class="group h-[550px] perspective-1000 cursor-pointer font-black">
                    <div class="relative h-full w-full transition-all duration-700 preserve-3d group-hover:rotate-y-180 shadow-2xl rounded-[4rem] overflow-hidden">
                        <div class="absolute inset-0 bg-slate-900 backface-hidden">
                            <img src="${e.img}" class="w-full h-full object-cover opacity-50 group-hover:scale-110 transition-transform duration-700" />
                            <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent p-14 flex flex-col justify-end">
                                <h3 class="text-4xl font-black text-white uppercase mb-4">${e.title}</h3>
                                <span class="text-lg text-green-300 font-black tracking-widest uppercase">${e.sub}</span>
                            </div>
                        </div>
                        <div class="absolute inset-0 bg-green-700 text-white rounded-[4rem] p-12 flex flex-col items-center justify-center rotate-y-180 backface-hidden text-center shadow-inner border-[4px] border-green-800">
                            <div class="bg-green-800/50 p-8 rounded-[3rem] border-2 border-green-500/30 w-full mb-10 shadow-inner"><div class="text-6xl font-black">${e.val}</div></div>
                            <ul class="space-y-5 text-xl font-bold text-green-50 text-left w-full pl-4">
                                ${e.list.map(li => `<li class="flex items-start gap-4"><i data-lucide="check-circle-2" class="w-6 h-6 text-green-300 shrink-0 mt-1"></i> <span>${li}</span></li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `).join('');

            // 檢查清單 (更新內容與樣式)
            const ITEMS = [
                { t: '護照正本', sub: '有效期限 6 個月以上' },
                { t: '簽證正本', sub: '由公司辦理之工作簽證' },
                { t: '衣物準備', sub: '北越四季變化，需備禦寒外套' },
                { t: '電子產品', sub: '筆電或平板 (視個人需求)' },
                { t: '個人藥品', sub: '常備藥物 (感冒/腸胃/外傷)' },
                { t: '少許現金', sub: '備用金 (台幣/美金皆可)' },
                { t: '通訊網路', sub: '建議先買 1 天漫遊，抵達後公司提供 4GB/日 網卡' }
            ];
            document.getElementById('checklist-items').innerHTML = ITEMS.map((it) => `
                <div onclick="this.classList.toggle('checked-item');" class="flex items-center gap-8 p-10 rounded-[3rem] border-[4px] border-slate-50 cursor-pointer transition-all duration-300 shadow-xl bg-white group hover:border-green-300 hover:shadow-2xl">
                    <i data-lucide="check-circle" class="w-12 h-12 text-slate-200 opacity-20 transition-all"></i>
                    <div class="space-y-2">
                        <span class="font-black text-3xl uppercase italic block">${it.t}</span>
                        <span class="text-lg font-bold text-slate-400 block transition-all">${it.sub}</span>
                    </div>
                </div>
            `).join('');

            lucide.createIcons();
            setTimeout(() => { document.getElementById('loading-overlay').style.opacity = '0'; setTimeout(() => document.getElementById('loading-overlay').style.display = 'none', 500); }, 500);
        };
    </script>
</body>
</html>